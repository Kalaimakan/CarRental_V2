@{
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

@model CarRental.ViewModels.CarViewModel

<div class="overview-container">
    <!-- Heading -->
    <div class="d-flex justify-content-between align-items-center mb-4 fade-in">
        <h2 class="fw-bold text-white">
            <i class="bi bi-car-front-fill me-2"></i> Add New Car
        </h2>
        <span class="text-muted">Last updated: @DateTime.Now.ToString("MMM dd, yyyy")</span>
    </div>

    <!-- Form Card -->
    <div class="overview-card fade-in text-start">
        <form method="post" enctype="multipart/form-data" id="carForm" class="row g-4">
            <!-- Brand -->
            <div class="col-md-6">
                <label asp-for="CarBrand" class="form-label">Brand</label>
                <input asp-for="CarBrand" class="form-control custom-input" placeholder="e.g. Toyota" />
                <span asp-validation-for="CarBrand" class="text-warning small"></span>
            </div>

            <!-- Model -->
            <div class="col-md-6">
                <label asp-for="CarModel" class="form-label">Model</label>
                <input asp-for="CarModel" class="form-control custom-input" placeholder="e.g. Corolla" />
                <span asp-validation-for="CarModel" class="text-warning small"></span>
            </div>

            <!-- Colour -->
            <div class="col-md-6">
                <label asp-for="CarColour" class="form-label">Colour</label>
                <input asp-for="CarColour" class="form-control custom-input" placeholder="e.g. Red" />
            </div>

            <!-- Seats -->
            <div class="col-md-6">
                <label asp-for="Seats" class="form-label">Seats</label>
                <input asp-for="Seats" type="number" min="2" class="form-control custom-input" placeholder="4" />
            </div>

            <!-- Fuel Type -->
            <div class="col-md-6">
                <label class="form-label">Fuel Type</label>
                <select asp-for="FuelType" class="form-select custom-input">
                    <option>Petrol</option>
                    <option>Diesel</option>
                    <option>Hybrid</option>
                    <option>Electric</option>
                </select>
            </div>

            <!-- Transmission -->
            <div class="col-md-6">
                <label class="form-label">Transmission</label>
                <select asp-for="Transmission" class="form-select custom-input">
                    <option>Auto</option>
                    <option>Manual</option>
                </select>
            </div>

            <!-- Price -->
            <div class="col-md-6">
                <label asp-for="PricePerDay" class="form-label">Price per Day</label>
                <input asp-for="PricePerDay" class="form-control custom-input" placeholder="e.g. 2500" />
            </div>

            <!-- AC -->
            <div class="col-md-6">
                <label class="form-label">AC</label>
                <select asp-for="HasAC" class="form-select custom-input">
                    <option value="true">AC</option>
                    <option value="false">Non-AC</option>
                </select>
            </div>

            <!-- Status -->
            <div class="col-md-6 d-flex align-items-center">
                <div class="form-check form-switch mt-3">
                    <input asp-for="Status" class="form-check-input" />
                    <label asp-for="Status" class="form-check-label">Available</label>
                </div>
            </div>

            <!-- Description -->
            <div class="col-12">
                <label asp-for="Description" class="form-label">Description</label>
                <textarea asp-for="Description" rows="3" class="form-control custom-input" placeholder="Write something about the car..."></textarea>
            </div>

            <!-- Images -->
            <div class="col-12">
                <label asp-for="ImageFiles" class="form-label">Upload Images</label>
                <input asp-for="ImageFiles" type="file" class="form-control custom-input" multiple />
            </div>

            <!-- Submit -->
            <div class="col-12">
                <button type="submit" class="btn btn-primary w-100 fw-bold py-2" id="submitBtn">
                    <i class="bi bi-save me-2"></i>Save Car
                </button>
            </div>
        </form>
    </div>

    <!-- Success Message -->
    @if (TempData["Success"] != null)
    {
        <div id="success-msg" class="alert alert-success mt-4 text-center mx-auto fade-in visible">
            <i class="bi bi-check-circle me-2"></i>@TempData["Success"]
        </div>

        <script>
            setTimeout(() => document.getElementById('success-msg')?.remove(), 5000);
        </script>
    }
</div>

@section Scripts {
    <script>
        document.getElementById("carForm").addEventListener("submit", function () {
            const btn = document.getElementById("submitBtn");
            btn.disabled = true;
            btn.innerText = "⏳ Saving...";
        });

        document.addEventListener("DOMContentLoaded", () => {
            const fadeEls = document.querySelectorAll('.fade-in');
            fadeEls.forEach((el, index) => {
                setTimeout(() => el.classList.add('visible'), 100 * index);
            });
        });
    </script>
}

<style>
    body {
        background-color: #0b0d17; /* Dark black/navy background */
        color: #e0e0e0;
        font-family: 'Segoe UI', sans-serif;
    }

    .overview-container {
        padding: 30px;
    }

    .overview-card {
        border-radius: 15px;
        padding: 25px;
        transition: all 0.3s ease;
        box-shadow: 0 6px 15px rgba(0,0,0,0.8);
        background: rgba(10, 25, 50, 0.8); /* Navy/black glass effect */
        backdrop-filter: blur(12px);
        color: #fff;
    }

        .overview-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.9);
        }

    .custom-input, .form-select {
        background-color: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255,255,255,0.2);
        color: #fff;
    }

        .custom-input:focus, .form-select:focus {
            border-color: #1e40af; /* navy highlight */
            box-shadow: 0 0 8px rgba(30,64,175,0.8);
            background-color: rgba(0,0,30,0.6);
            color: #fff;
        }

    .btn-primary {
        background-color: #1e3a8a; /* navy blue button */
        border: none;
        color: #fff;
    }

        .btn-primary:hover {
            background-color: transparent;
            border: 1px solid #1e3a8a;
            box-shadow: 0 0 12px rgba(30,58,138,0.9);
            transform: scale(1.05);
        }

    label, .form-label {
        color: #cfd8dc;
    }

    .fade-in {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.8s ease, transform 0.8s ease;
    }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
</style>
